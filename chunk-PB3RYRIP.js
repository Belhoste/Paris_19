import{a as Xe}from"./chunk-5JXANGJM.js";import{a as Ye,b as Ze}from"./chunk-EF4Q6HK5.js";import"./chunk-CXW23U65.js";import{l as Be,m as qe}from"./chunk-TTEYHELW.js";import{a as Je}from"./chunk-TCK3I6DR.js";import{D as Re,E as Ge,H as Ve,I as ze,J as Qe,b as Pe,f as Me,i as Se,k as Fe,r as Oe,s as Ie,t as Ae,u as Le}from"./chunk-CNGQ7NWL.js";import{Aa as me,Ab as oe,Bb as ve,D as te,Eb as W,Fa as b,J as z,K as U,Lb as xe,N as de,Na as B,Oa as q,Pa as ue,Qa as ie,Ra as ne,Sa as u,Ta as a,U as D,Ua as l,Ub as Ce,Va as Q,X as M,Y as S,Za as K,_a as H,a as ae,ab as I,ac as be,b as se,bc as ye,cb as y,eb as c,gc as we,i as le,ib as ge,j as V,jb as _e,kb as fe,md as $e,n as X,nd as je,ob as he,od as De,p as O,q as ce,qa as pe,qb as N,qd as Ne,ra as r,rd as Ue,s as Y,sb as m,sd as Ke,tb as L,ub as T,uc as Te,ud as He,v as Z,vc as ke,wc as Ee,wd as We,z as ee}from"./chunk-EFVOMQUX.js";var it=["filterBtn"],nt=()=>[""],ot=()=>["/people"],rt=()=>["/search"],at=(i,p)=>p.id;function st(i,p){if(i&1){let e=I();a(0,"button",25,1),y("click",function(){M(e);let n=c().$implicit,o=c(3);return S(o.toggleFilter(n))}),m(2),l()}if(i&2){let e=c().$implicit,t=c(3);N("inactive-filter",!t.isFilterSelected(e))("active-filter",t.isFilterSelected(e)),u("key",oe(e.key)),r(2),T(" ",e.label," ")}}function lt(i,p){if(i&1&&(K(0),b(1,st,3,7,"button",24),H()),i&2){let e=p.$implicit,t=c(3);r(),u("ngIf",!t.overflowFilterKeys.has(e.key))}}function ct(i,p){if(i&1){let e=I();a(0,"button",25,1),y("click",function(){M(e);let n=c().$implicit,o=c(4);return S(o.toggleFilter(n))}),m(2),l()}if(i&2){let e=c().$implicit,t=c(4);N("inactive-filter",!t.isFilterSelected(e))("active-filter",t.isFilterSelected(e)),u("key",oe(e.key)),r(2),T(" ",e.label," ")}}function dt(i,p){if(i&1&&(K(0),b(1,ct,3,7,"button",24),H()),i&2){let e=p.$implicit,t=c(4);r(),u("ngIf",t.overflowFilterKeys.has(e.key))}}function pt(i,p){if(i&1&&(a(0,"div",26),b(1,dt,2,1,"ng-container",18),l()),i&2){let e=c(3);N("hidden",e.collapsedFilters),r(),u("ngForOf",e.availableFilters)}}function mt(i,p){if(i&1){let e=I();a(0,"div",27)(1,"button",28),y("click",function(){M(e);let n=c(3);return S(n.toggleCollapsedFilters())}),m(2),a(3,"mat-icon"),m(4),l()()()}if(i&2){let e=c(3);r(2),T(" ",e.collapsedFilters?"Afficher plus ("+e.overflowFilterKeys.size+")":"R\xE9duire"," "),r(2),L(e.collapsedFilters?"expand_more":"expand_less")}}function ut(i,p){if(i&1){let e=I();K(0),a(1,"div",16)(2,"div",17),b(3,lt,2,1,"ng-container",18),a(4,"mat-slide-toggle",19),y("change",function(){M(e);let n=c(2);return S(n.toggleCombineMode())}),m(5),l()(),b(6,pt,2,3,"div",20)(7,mt,5,2,"div",21),l(),a(8,"div",22)(9,"button",23),y("click",function(){M(e);let n=c(2);return S(n.toggleAdvancedMode())}),m(10),l()(),H()}if(i&2){let e=c(2);r(3),u("ngForOf",e.availableFilters),r(),u("checked",e.combineDisjoint)("matTooltip",e.combineDisjoint?e.tooltipAny:e.tooltipAll),r(),T(" ",e.combineDisjoint?"OR":"AND"," "),r(),u("ngIf",e.overflowFilterKeys.size>0),r(),u("ngIf",e.overflowFilterKeys.size>0),r(3),L(e.lang.getTranslation("advanced_mode",e.lang.selectedLang))}}function gt(i,p){if(i&1&&(a(0,"div",14),b(1,ut,11,7,"ng-container",15),l()),i&2){let e=c();r(),u("ngIf",e.availableFilters.length)}}function _t(i,p){if(i&1){let e=I();a(0,"button",41),y("click",function(){M(e);let n=c().$implicit,o=c(3);return S(o.removeGroup(n.id))}),a(1,"mat-icon"),m(2,"close"),l()()}}function ft(i,p){if(i&1){let e=I();a(0,"button",42),y("click",function(){let n=M(e).$implicit,o=c().$implicit,d=c(3);return S(d.toggleFilterInGroup(o,n.key))}),m(1),l()}if(i&2){let e=p.$implicit,t=c().$implicit,n=c(3);N("active-filter",n.groupHas(t,e.key))("inactive-filter",!n.groupHas(t,e.key)),r(),T(" ",e.label," ")}}function ht(i,p){if(i&1&&(a(0,"div",36)(1,"span",37),m(2),l(),b(3,_t,3,0,"button",38),a(4,"div",39),b(5,ft,2,5,"button",40),l()()),i&2){let e=p.$implicit,t=c(3);r(),u("matTooltip",ve("Groupe OR #",e.id," (AND interne)")),r(),L(e.id),r(),u("ngIf",t.advancedGroups.length>1),r(2),u("ngForOf",t.availableFilters)}}function vt(i,p){if(i&1&&(a(0,"div",43),m(1),l()),i&2){let e=c(3);r(),L(e.expressionSummary)}}function xt(i,p){if(i&1){let e=I();a(0,"div",30)(1,"div",31)(2,"button",23),y("click",function(){M(e);let n=c(2);return S(n.toggleAdvancedMode())}),m(3),l()(),a(4,"div",32),b(5,ht,6,5,"div",33),a(6,"div",34),y("click",function(){M(e);let n=c(2);return S(n.addGroup())}),m(7,"+"),l()(),b(8,vt,2,1,"div",35),l()}if(i&2){let e=c(2);r(3),L(e.lang.getTranslation("simple_mode",e.lang.selectedLang)),r(2),u("ngForOf",e.advancedGroups)("ngForTrackBy",e.trackGroup),r(3),u("ngIf",e.expressionSummary)}}function Ct(i,p){if(i&1&&b(0,xt,9,4,"div",29),i&2){let e=c();u("ngIf",e.advancedMode)}}function bt(i,p){if(i&1&&(a(0,"span"),m(1),l()),i&2){let e=c().$implicit;r(),T(", ",e.description)}}function yt(i,p){if(i&1){let e=I();a(0,"div")(1,"span",45),m(2),l(),a(3,"mat-icon-button",46),y("click",function(){let n=M(e).$implicit,o=c(2);return S(o.goToDisplay(n.id))}),a(4,"mat-icon",47),m(5,"open_in_new"),l()(),B(6,bt,2,1,"span"),Q(7,"hr"),l()}if(i&2){let e=p.$implicit;r(2),T("",e.label,"\xA0"),r(2),u("inline",!0),r(2),q(e.description?6:-1)}}function wt(i,p){if(i&1&&(a(0,"div",13)(1,"div",44),ie(2,yt,8,3,"div",null,at),l()()),i&2){let e=c();r(2),ne(e.items)}}function Pt(i,p){if(i&1){let e=I();a(0,"span",53),m(1),a(2,"mat-icon-button",46),y("click",function(){M(e);let n=c().$implicit,o=c(2);return S(o.goToDisplay(n.value.id))}),a(3,"mat-icon",54),m(4,"open_in_new"),l()()()}if(i&2){let e=c().$implicit;r(),T(" ",e.label,"\xA0 "),r(2),u("inline",!0)}}function Mt(i,p){if(i&1&&(a(0,"div",52),B(1,Pt,5,2,"span",53),Q(2,"br"),l()),i&2){let e=p.$implicit;r(),q(e?1:-1)}}function St(i,p){if(i&1&&(a(0,"div")(1,"div",48)(2,"mat-card",49)(3,"div",50),m(4),l(),a(5,"div",51),Q(6,"hr"),a(7,"mat-card-content")(8,"div"),ie(9,Mt,3,1,"div",52,ue),l()()()()()()),i&2){let e=c();r(4),L(e.formerVisitsTitle),r(5),ne(e.selectedItemsList)}}var ai=(()=>{let p=class p{constructor(){this.changeDetector=D(Ce),this.request=D(Qe),this.setLanguage=D(Je),this.lang=D(Ue),this.lastSearchRoute=D(Xe),this.router=D(Te),this.title="Paris 19",this.subTitle="Places",this.home_page="Home",this.people="People",this.formerVisitsTitle="you have visited:",this.minTermLength=2,this.minLengthTooltip="Tapez au moins 2 caract\xE8res pour lancer la recherche",this.searchInput=new Se,this.isDisplay=!1,this.items=[],this.selectedItemsList=JSON.parse(localStorage.getItem("selectedItems"))||[],this.availableFilters=[{key:"address",label:"",occupationId:"Q16200"},{key:"voie",label:"",occupationId:"Q266101"},{key:"building",label:"",occupationId:"Q40261"},{key:"theatre",label:"",occupationId:"Q396161"}],this.selectedFilters=new Set,this.selectedFilters$=new V([]),this.combineDisjoint=!1,this.combineDisjoint$=new V(!1),this.collapsedFilters=!0,this.overflowFilterKeys=new Set,this.minCollapsibleFilters=6,this.resize$=new le,this.occupationClosureCache={},this.occupationClosureLoaded=!1,this.occupationClosureLoading=!1,this.advancedMode=!1,this.advancedMode$=new V(!1),this.advancedGroups=[],this.advancedGroups$=new V([]),this.groupIdCounter=0,this.expressionSummary="",this.baseGetURL="https://database.factgrid.de//w/api.php?action=wbgetentities&ids=",this.getUrlSuffix="&format=json&origin=*"}onResize(){this.resize$.next()}chunkArray(t,n){let o=[];for(let d=0;d<t.length;d+=n)o.push(t.slice(d,d+n));return o}goToDisplay(t){this.lastSearchRoute.setLastSearchRoute(this.router.url),this.router.navigate(["/item",t])}emitAdvancedGroups(){this.advancedGroups$.next(this.advancedGroups.map(t=>({id:t.id,allOf:[...t.allOf]}))),this.recomputeExpressionSummary()}recomputeExpressionSummary(){if(!this.advancedMode||this.advancedGroups.length===0){this.expressionSummary="";return}let t=this.availableFilters.reduce((o,d)=>(o[d.key]=d.label,o),{}),n=this.advancedGroups.filter(o=>o.allOf.length>0).map(o=>o.allOf.map(d=>t[d]||d).join(" \u2227 "));this.expressionSummary=n.join(" \u2228 ")}toggleAdvancedMode(){if(this.advancedMode=!this.advancedMode,this.advancedMode$.next(this.advancedMode),this.advancedMode){this.groupIdCounter=0;let t=Array.from(this.selectedFilters);t.length===0?this.advancedGroups=[{id:++this.groupIdCounter,allOf:[]}]:t.length===1?this.advancedGroups=[{id:++this.groupIdCounter,allOf:[...t]}]:this.combineDisjoint?this.advancedGroups=t.map(n=>({id:++this.groupIdCounter,allOf:[n]})):this.advancedGroups=[{id:++this.groupIdCounter,allOf:[...t]}],this.emitAdvancedGroups()}else this.selectedFilters.clear(),this.selectedFilters$.next([]),this.combineDisjoint=!1,this.combineDisjoint$.next(!1),this.expressionSummary="",this.groupIdCounter=0}addGroup(){this.advancedGroups.push({id:++this.groupIdCounter,allOf:[]}),this.emitAdvancedGroups()}removeGroup(t){this.advancedGroups=this.advancedGroups.filter(n=>n.id!==t),this.advancedGroups.length===0&&this.advancedGroups.push({id:++this.groupIdCounter,allOf:[]}),this.emitAdvancedGroups()}groupHas(t,n){return t.allOf.includes(n)}toggleFilterInGroup(t,n){let o=t.allOf.indexOf(n);o>=0?t.allOf.splice(o,1):t.allOf.push(n),this.emitAdvancedGroups()}trackGroup(t,n){return n.id}initOccupationClosureCacheSkeleton(){this.availableFilters.forEach(t=>{this.occupationClosureCache[t.key]||(this.occupationClosureCache[t.key]=new Set([t.occupationId]))})}loadOccupationClosures(){if(this.occupationClosureLoaded||this.occupationClosureLoading||!this.availableFilters.length)return;this.occupationClosureLoading=!0,this.initOccupationClosureCacheSkeleton();let n=`SELECT ?root ?occ WHERE { VALUES ?root { ${this.availableFilters.map(d=>`wd:${d.occupationId}`).join(" ")} } ?occ wdt:P3* ?root . }`,o=`https://database.factgrid.de/sparql?format=json&query=${encodeURIComponent(n)}`;this.request.getItem(o).subscribe({next:d=>{try{(d?.results?.bindings||[]).forEach(s=>{let g=s.root?.value?.match(/Q\d+/)?.[0],E=s.occ?.value?.match(/Q\d+/)?.[0];if(!g||!E)return;let _=this.availableFilters.find(h=>h.occupationId===g);if(!_)return;let w=this.occupationClosureCache[_.key]||new Set;w.add(g),w.add(E),this.occupationClosureCache[_.key]=w}),this.occupationClosureLoaded=!0;let R=Array.from(this.selectedFilters);R.length&&this.selectedFilters$.next(R)}catch(k){console.error("[PlacesComponent] Erreur parsing SPARQL",k)}},error:d=>console.warn("[PlacesComponent] \xC9chec SPARQL closures",d),complete:()=>{this.occupationClosureLoading=!1}})}toggleCombineMode(){this.combineDisjoint=!this.combineDisjoint,this.combineDisjoint$.next(this.combineDisjoint)}toggleFilter(t){this.advancedMode||(!this.occupationClosureLoaded&&!this.occupationClosureLoading&&this.loadOccupationClosures(),this.selectedFilters.has(t.key)?this.selectedFilters.delete(t.key):this.selectedFilters.add(t.key),this.selectedFilters$.next(Array.from(this.selectedFilters)),setTimeout(()=>this.computeOverflowFilters(),0))}isFilterSelected(t){return this.selectedFilters.has(t.key)}toggleCollapsedFilters(){this.collapsedFilters=!this.collapsedFilters}computeOverflowFilters(){try{if(!this.filterButtons||this.filterButtons.length===0){this.overflowFilterKeys.clear();return}let t=this.filterButtons.toArray().filter(d=>!!d&&!!d.nativeElement);if(!t.length){this.overflowFilterKeys.clear();return}let n=t[0].nativeElement;if(!n||!n.getBoundingClientRect){this.overflowFilterKeys.clear();return}let o=n.getBoundingClientRect().top;this.overflowFilterKeys.clear();for(let d of t){let k=d.nativeElement;if(!k||!k.getBoundingClientRect)continue;let R=k.getBoundingClientRect().top,s=k.getAttribute("data-key");s&&R-o>1&&this.overflowFilterKeys.add(s)}this.availableFilters.length<this.minCollapsibleFilters&&this.overflowFilterKeys.clear(),this.overflowFilterKeys.size===0&&(this.collapsedFilters=!0)}catch{this.overflowFilterKeys.clear()}this.changeDetector.detectChanges()}ngOnInit(){this.loadOccupationClosures(),this.people=this.lang.getTranslation("people",this.lang.selectedLang),this.home_page=this.lang.getTranslation("home_page",this.lang.selectedLang),this.subTitle=this.lang.getTranslation("places",this.lang.selectedLang),this.formerVisitsTitle=this.lang.getTranslation("formerVisitsTitle",this.lang.selectedLang),this.tooltipAny=this.lang.getTranslation("combination_any",this.lang.selectedLang)||"",this.tooltipAll=this.lang.getTranslation("combination_all",this.lang.selectedLang)||"";let t=this.lang.selectedLang;this.availableFilters=this.availableFilters.map(s=>se(ae({},s),{label:Ne[s.key]?.[t]||s.key})),this.selectedItemsList=this.selectedItemsList.filter(function(s){return s!==null}),this.pages=this.request.getStat().pipe(O(s=>Object.values(s)[1].statistics.pages));let n=this.searchInput.valueChanges.pipe(z(""),O(s=>(s||"").trim()),ee(250),te()),o=this.selectedFilters$.pipe(O(s=>[...s]),te((s,g)=>s.length===g.length&&s.every((E,_)=>E===g[_]))),d=this.combineDisjoint$.pipe(z(!1)),k=this.advancedMode$.pipe(z(this.advancedMode)),R=this.advancedGroups$.pipe(z(this.advancedGroups));this.labels=ce([n,o,d,k,R]).pipe(de(([s])=>{s.length<this.minTermLength&&(this.items=[],this.isDisplay=!1,this.changeDetector.detectChanges())}),Z(([s])=>s.length>=this.minTermLength),U(([s])=>{let g=s.trim(),_=g.replace(/^Paris,\s*/i,"").split(/\s+/).filter(f=>!!f),w=_.map(f=>f.endsWith("*")?f:f+"*"),h=g.length===2?100:200,$=f=>{let C=/^Paris,\s*/i.test(g)?[]:['"Paris,"'],j=[f,...C,...w].join(" "),G=`https://database.factgrid.de/w/api.php?action=query&list=search&format=json&origin=*&srsearch=${encodeURIComponent(j)}&srnamespace=120&srlimit=${h}`;return this.request.getItem(G).pipe(O(J=>(J?.query?.search||[]).map(A=>A.title.match(/Q\d+/)?.[0]).filter(A=>!!A)))},x=["Q314208","Q147167"],P=x.map(f=>$(`haswbstatement:P131=${f}`));return Y(P).pipe(U(f=>{let v=new Set(f.flat());if(!_.length||v.size>0)return X(Array.from(v));let C=this.lang.selectedLang||"en",F=_.map(A=>`FILTER(CONTAINS(LCASE(?label), "${A.toLowerCase().replace(/"/g,"")}")).`).join(" "),G=`SELECT DISTINCT ?item WHERE { VALUES ?root { ${x.map(A=>`wd:${A}`).join(" ")} } ?item wdt:P131* ?root . ?item rdfs:label ?label . FILTER(lang(?label)='${C}') ${F} } LIMIT 300`,J="https://database.factgrid.de/sparql?query="+encodeURIComponent(G)+"&format=json";return this.request.getItem(J).pipe(O(A=>{let et=A?.results?.bindings||[];for(let tt of et){let re=(tt.item?.value||"").match(/Q\d+/)?.[0];re&&v.add(re)}return Array.from(v)}))}))}),Z(s=>s.length>0),U(s=>{let g=this.lang.selectedLang,_=this.chunkArray(s,50).map(w=>{let $=`https://database.factgrid.de/w/api.php?action=wbgetentities&ids=${w.join("|")}&format=json&languages=${g}&origin=*`;return this.request.getItem($).pipe(O(x=>x&&x.entities?Object.values(x.entities):[]))});return _.length?Y(_).pipe(O(w=>w.flat())):X([])}),O(s=>{let g=this.selectedFilters$.value,E=this.combineDisjoint,_=this.advancedMode,w=this.advancedGroups,h=this.availableFilters.reduce((x,P)=>(x[P.key]=P.occupationId,x),{}),$=["P2"];return s.filter(x=>{let P=[];for(let v of $){let C=x.claims?.[v]||[];for(let F of C){let j=F?.mainsnak?.datavalue?.value?.id;j&&P.push(j)}}if(g.length===0&&!_)return!0;let f=Array.from(new Set(P));if(_){let v=w.filter(C=>C.allOf.length>0);return v.length===0?!0:v.some(C=>C.allOf.every(F=>{let j=this.occupationClosureCache[F]||new Set([h[F]]);return f.some(G=>j.has(G))}))}return g.length===0?!0:E?g.some(v=>{let C=this.occupationClosureCache[v]||new Set([h[v]]);return f.some(F=>C.has(F))}):g.every(v=>{let C=this.occupationClosureCache[v]||new Set([h[v]]);return f.some(F=>C.has(F))})})}),O(s=>this.setLanguage.item(s,this.lang.selectedLang)),O(s=>{let _=(this.searchInput.value||"").toString().trim().replace(/^Paris,\s*/i,"").split(/\s+/).filter(h=>h.length>0).map(h=>h.toLowerCase());return _.length?s.filter(h=>{let $=(h.label||"").toLowerCase(),x=Array.isArray(h.aliases)?h.aliases.map(P=>(P||"").toLowerCase()):[];return _.every(P=>$.includes(P)||x.some(f=>f.includes(P)))}):s})).subscribe(s=>{this.items=s,this.isDisplay=this.items.length>0&&this.items[0]?.id!=="Q220375",this.changeDetector.detectChanges()})}ngAfterViewInit(){setTimeout(()=>this.computeOverflowFilters(),0),this.resizeSub=this.resize$.pipe(ee(150)).subscribe(()=>this.computeOverflowFilters())}createList(t){let n=t?.search||[];Array.isArray(n)||(n=[]);let o=n.map(d=>d.id).filter(d=>!!d).join("|");return this.baseGetURL+o+this.getUrlSuffix}ngOnDestroy(){this.labels&&this.labels.unsubscribe(),this.resizeSub&&this.resizeSub.unsubscribe()}};p.\u0275fac=function(n){return new(n||p)},p.\u0275cmp=me({type:p,selectors:[["app-places"]],viewQuery:function(n,o){if(n&1&&ge(it,5),n&2){let d;_e(d=fe())&&(o.filterButtons=d)}},hostBindings:function(n,o){n&1&&y("resize",function(){return o.onResize()},pe)},decls:31,vars:16,consts:[["advancedModeBlock",""],["filterBtn",""],[1,"prosopo-header"],[1,"prosopo-title"],[1,"prosopo-subtitle"],["class","filters-under-subtitle",4,"ngIf","ngIfElse"],["appearance","outlined",1,"mat-elevation-z12"],[1,"search-center2"],["matInput","","placeholder","Ex.: rue de la Paix","matTooltipPosition","above",3,"formControl","matTooltip","matTooltipDisabled"],[1,"search-center","router-links","top-links"],[3,"routerLink"],["href","https://database.factgrid.de/query/#%23model%0A%0ASELECT%20%3Fitem%20%3Fviewer%20%3FitemLabel%20%20WHERE%20%7B%0A%20%20SERVICE%20wikibase%3Alabel%20%7B%20bd%3AserviceParam%20wikibase%3Alanguage%20%22%5BAUTO_LANGUAGE%5D%2Cen%22.%20%7D%0A%20%20%3Fitem%20wdt%3AP2%20wd%3AQ7%3B%0A%20%20%20%20%20%20%20%20wdt%3AP247%20wd%3AQ24708.%0A%20%20BIND%28STRAFTER%28STR%28%3Fitem%29%2C%20STR%28wd%3A%29%29%20AS%20%3FitemId%29%0A%20%20BIND%28IRI%28CONCAT%28%22https%3A%2F%2Fdatabase.factgrid.de%2Fviewer%2Fitem%2F%22%2C%20%3FitemId%29%29%20AS%20%3Fviewer%29%0A%7D%0A"],[1,"search-center"],[1,"searchListSize"],[1,"filters-under-subtitle"],[4,"ngIf"],[1,"filters-wrapper"],[1,"filter-line","primary"],[4,"ngFor","ngForOf"],["matTooltipPosition","above","aria-label","Mode de combinaison des filtres",1,"logic-toggle",3,"change","checked","matTooltip"],["class","filter-line secondary",3,"hidden",4,"ngIf"],["class","more-filters",4,"ngIf"],[1,"advanced-mode-btn"],["mat-stroked-button","","color","primary","type","button",3,"click"],["mat-stroked-button","","type","button",3,"key","inactive-filter","active-filter","click",4,"ngIf"],["mat-stroked-button","","type","button",3,"click","key"],[1,"filter-line","secondary"],[1,"more-filters"],["mat-button","","type","button",3,"click"],["class","advanced-groups-under",4,"ngIf"],[1,"advanced-groups-under"],[1,"advanced-mode-btn","top"],[1,"groups-row"],["class","group-card",4,"ngFor","ngForOf","ngForTrackBy"],["matTooltip","Ajouter un groupe (OR)",1,"add-pill",3,"click"],["class","expression-summary",4,"ngIf"],[1,"group-card"],[1,"group-badge",3,"matTooltip"],["class","group-close","mat-icon-button","","type","button","aria-label","Supprimer",3,"click",4,"ngIf"],["matTooltip","Tous les filtres coch\xE9s ici sont combin\xE9s en AND",1,"group-filters"],["mat-stroked-button","","type","button",3,"active-filter","inactive-filter","click",4,"ngFor","ngForOf"],["mat-icon-button","","type","button","aria-label","Supprimer",1,"group-close",3,"click"],["mat-stroked-button","","type","button",3,"click"],[1,"expression-summary"],[1,"details"],[1,"search-label"],["type","button",1,"internalLink",3,"click"],["color","primary",3,"inline"],[1,"search-itemSelected"],["appearance","outlined",1,"search-itemSelected-mat-card"],[1,"selectedListTitle2"],[1,"selectedItemSize"],[1,"labelTitlePadding"],[1,"selectedItemText"],[1,"whiteButton",3,"inline"]],template:function(n,o){if(n&1&&(a(0,"div",2)(1,"div",3),m(2," Paris 19 "),l(),a(3,"div",4),m(4),l()(),b(5,gt,2,1,"div",5)(6,Ct,1,1,"ng-template",null,0,xe),a(8,"mat-card",6)(9,"mat-card-content")(10,"div",7)(11,"mat-form-field"),Q(12,"input",8),l()(),a(13,"div",9)(14,"a",10),m(15),l(),a(16,"span"),m(17,"\xA0|\xA0"),l(),a(18,"a",10),m(19),l(),a(20,"span"),m(21,"\xA0|\xA0"),l(),a(22,"a",10),m(23,"FactGrid"),l(),a(24,"span"),m(25,"\xA0|\xA0"),l(),a(26,"a",11),m(27,"Sparql query"),l()()(),a(28,"div",12),B(29,wt,4,0,"div",13),B(30,St,11,1,"div"),l()()),n&2){let d=he(7);r(4),T(" ",o.subTitle," "),r(),u("ngIf",!o.advancedMode)("ngIfElse",d),r(7),u("formControl",o.searchInput)("matTooltip",o.minLengthTooltip)("matTooltipDisabled",(o.searchInput.value||"").length>=o.minTermLength),r(2),u("routerLink",W(13,nt)),r(),L(o.home_page),r(3),u("routerLink",W(14,ot)),r(),L(o.people),r(3),u("routerLink",W(15,rt)),r(7),q(o.isDisplay?29:-1),r(),q(o.isDisplay?-1:30)}},dependencies:[we,be,ye,Ee,ke,Ie,Pe,Me,Fe,Oe,ze,Ve,Re,Ge,Le,Ae,De,je,$e,We,Ke,He,Ze,Ye,qe,Be],styles:['@charset "UTF-8";.search-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.HU-div[_ngcontent-%COMP%]{height:150px;display:flex;align-items:center;justify-content:center}.HUTitle-div[_ngcontent-%COMP%]{padding-left:10px;color:#ad1457;font-weight:600;font-size:60px}.search-itemSelected[_ngcontent-%COMP%]{margin-top:50px}.selectedItemSize[_ngcontent-%COMP%]{font-size:14px}.search-top-margin[_ngcontent-%COMP%]{margin-top:20px}.search-center2[_ngcontent-%COMP%], .search-center[_ngcontent-%COMP%]{display:flex;justify-content:center}.search-label[_ngcontent-%COMP%]{font-weight:700}.router-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.router-links.top-links[_ngcontent-%COMP%]{margin-top:6px;margin-bottom:4px;font-size:14px}.filter-chips[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;justify-content:center;margin:12px 0 4px}.filter-chips[_ngcontent-%COMP%]   .logic-toggle[_ngcontent-%COMP%]{align-self:center;margin-left:4px;display:flex;height:36px;align-items:center}.filter-chips[_ngcontent-%COMP%]   button.active-filter[_ngcontent-%COMP%]{background:#1976d2;color:#fff;border-color:#1976d2}.filter-chips[_ngcontent-%COMP%]   button.inactive-filter[_ngcontent-%COMP%]{opacity:.65}.filters-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-top:2px}.filter-line[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;justify-content:center;max-width:100%;position:relative}.filter-line.primary[_ngcontent-%COMP%]{margin-bottom:4px}.filter-line.secondary[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;justify-content:center}.filter-line.secondary.hidden[_ngcontent-%COMP%]{display:none}.filter-line.collapsed[_ngcontent-%COMP%]{overflow:hidden}.filter-line.collapsed[_ngcontent-%COMP%]   button.overflowed[_ngcontent-%COMP%]{display:none}.filter-line[_ngcontent-%COMP%]   button.active-filter[_ngcontent-%COMP%]{background:#1976d2;color:#fff;border-color:#1976d2}.filter-line[_ngcontent-%COMP%]   button.inactive-filter[_ngcontent-%COMP%]{opacity:.65}.filter-line[_ngcontent-%COMP%]   .logic-toggle[_ngcontent-%COMP%]{align-self:center;height:36px;display:flex;align-items:center}.more-filters[_ngcontent-%COMP%]{margin-top:4px;text-align:center}.more-filters[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{vertical-align:middle}.filters-under-subtitle[_ngcontent-%COMP%]{margin-top:0;padding-top:0;position:relative}.filters-wrapper[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:center}.filters-under-subtitle[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-3px;left:50%;transform:translate(-50%);width:50%;height:1px;background:linear-gradient(to right,transparent,#bbb,transparent)}.advanced-groups-under[_ngcontent-%COMP%]{margin-top:8px;margin-bottom:18px}.advanced-mode-btn[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:10px;margin-bottom:12px}.advanced-mode-btn.top[_ngcontent-%COMP%]{margin-bottom:16px}.advanced-groups[_ngcontent-%COMP%]{margin-top:10px}.groups-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:18px;align-items:flex-start;justify-content:center}.group-card[_ngcontent-%COMP%]{display:flex;flex-direction:row;padding:10px 14px;border:1px solid #d0d7de;border-radius:10px;background:#fff;box-shadow:0 1px 2px #0000000d;min-width:480px;max-width:640px;position:relative;align-items:center}.group-card.add-card[_ngcontent-%COMP%]{display:none}.add-pill[_ngcontent-%COMP%]{border:1px dashed #1976d2;background:#fff;color:#1976d2;width:30px;height:30px;border-radius:50%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;font-size:18px;line-height:1;margin-top:2px}.add-pill[_ngcontent-%COMP%]:hover{background:#1976d2;color:#fff}.group-badge[_ngcontent-%COMP%]{display:inline-flex;justify-content:center;align-items:center;width:26px;height:26px;background:#1976d2;color:#fff;border-radius:50%;font-size:12px;font-weight:600;margin-right:12px;flex-shrink:0}.group-close[_ngcontent-%COMP%]{position:absolute;top:4px;right:4px}.group-filters[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;flex:1}.group-filters[_ngcontent-%COMP%]   button.active-filter[_ngcontent-%COMP%]{background:#1976d2;color:#fff;border-color:#1976d2}.group-filters[_ngcontent-%COMP%]   button.inactive-filter[_ngcontent-%COMP%]{opacity:.6}.expression-summary[_ngcontent-%COMP%]{margin-top:12px;font-size:13px;text-align:center;font-style:italic;color:#37474f}@media (max-width: 780px){.groups-row[_ngcontent-%COMP%]{width:100%;gap:14px}.group-card[_ngcontent-%COMP%]{min-width:0;width:100%;max-width:100%;padding:10px;box-sizing:border-box}.group-filters[_ngcontent-%COMP%]{gap:6px}.group-filters[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1 1 auto;max-width:100%}}.prosopo-header[_ngcontent-%COMP%]{margin-top:18px;margin-bottom:18px}.prosopo-title[_ngcontent-%COMP%]{margin-bottom:14px}.prosopo-subtitle[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0}.prosopo-title[_ngcontent-%COMP%]{font-size:4rem;line-height:1.05}@media (max-width: 767px){.prosopo-title[_ngcontent-%COMP%]{font-size:3.2rem;margin-bottom:12px}}']});let i=p;return i})();export{ai as PlacesComponent};
